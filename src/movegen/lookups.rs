/*
    Anura
    Copyright (C) 2024 Joseph Pasfield

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <https://www.gnu.org/licenses/>.
*/
use std::arch::x86_64::_pdep_u64;

use crate::{
    rays::{init_between, init_intersection},
    types::{bitboard::Bitboard, square::Square},
};

use super::slideys::{get_bishop_attacks_old, get_rook_attacks_old};

// initialize the lookups on startup as needed
pub fn initialize() {
    unsafe { generate_pext_lookups() };
    init_between();
    init_intersection();
}

unsafe fn generate_pext_lookups() {
    for i in 0..64 {
        let rook_patterns = 1 << ROOK_MASKS[i].count_ones();

        for j in 0..rook_patterns {
            let blockers = Bitboard(_pdep_u64(j as u64, ROOK_MASKS[i]));
            ROOK_MOVES[i][j] = get_rook_attacks_old(Square(i as u8), blockers).as_u64();
        }

        let bish_patterns = 1 << BISHOP_MASKS[i].count_ones();

        for j in 0..bish_patterns {
            let blockers = Bitboard(_pdep_u64(j as u64, BISHOP_MASKS[i]));
            BISHOP_MOVES[i][j] = get_bishop_attacks_old(Square(i as u8), blockers).as_u64();
        }
    }
}

pub static mut ROOK_MOVES: [[u64; 4096]; 64] = [[0; 4096]; 64];
pub static mut BISHOP_MOVES: [[u64; 512]; 64] = [[0; 512]; 64];

pub static BENCH_FENS: [&str; 53] = [
    "r3k2r/2pb1ppp/2pp1q2/p7/1nP1B3/1P2P3/P2N1PPP/R2QK2R w KQkq a6 0 14",
    "4rrk1/2p1b1p1/p1p3q1/4p3/2P2n1p/1P1NR2P/PB3PP1/3R1QK1 b - - 2 24",
    "r3qbrk/6p1/2b2pPp/p3pP1Q/PpPpP2P/3P1B2/2PB3K/R5R1 w - - 16 42",
    "6k1/1R3p2/6p1/2Bp3p/3P2q1/P7/1P2rQ1K/5R2 b - - 4 44",
    "8/8/1p2k1p1/3p3p/1p1P1P1P/1P2PK2/8/8 w - - 3 54",
    "7r/2p3k1/1p1p1qp1/1P1Bp3/p1P2r1P/P7/4R3/Q4RK1 w - - 0 36",
    "r1bq1rk1/pp2b1pp/n1pp1n2/3P1p2/2P1p3/2N1P2N/PP2BPPP/R1BQ1RK1 b - - 2 10",
    "3r3k/2r4p/1p1b3q/p4P2/P2Pp3/1B2P3/3BQ1RP/6K1 w - - 3 87",
    "2r4r/1p4k1/1Pnp4/3Qb1pq/8/4BpPp/5P2/2RR1BK1 w - - 0 42",
    "4q1bk/6b1/7p/p1p4p/PNPpP2P/KN4P1/3Q4/4R3 b - - 0 37",
    "2q3r1/1r2pk2/pp3pp1/2pP3p/P1Pb1BbP/1P4Q1/R3NPP1/4R1K1 w - - 2 34",
    "1r2r2k/1b4q1/pp5p/2pPp1p1/P3Pn2/1P1B1Q1P/2R3P1/4BR1K b - - 1 37",
    "r3kbbr/pp1n1p1P/3ppnp1/q5N1/1P1pP3/P1N1B3/2P1QP2/R3KB1R b KQkq b3 0 17",
    "8/6pk/2b1Rp2/3r4/1R1B2PP/P5K1/8/2r5 b - - 16 42",
    "1r4k1/4ppb1/2n1b1qp/pB4p1/1n1BP1P1/7P/2PNQPK1/3RN3 w - - 8 29",
    "8/p2B4/PkP5/4p1pK/4Pb1p/5P2/8/8 w - - 29 68",
    "3r4/ppq1ppkp/4bnp1/2pN4/2P1P3/1P4P1/PQ3PBP/R4K2 b - - 2 20",
    "5rr1/4n2k/4q2P/P1P2n2/3B1p2/4pP2/2N1P3/1RR1K2Q w - - 1 49",
    "1r5k/2pq2p1/3p3p/p1pP4/4QP2/PP1R3P/6PK/8 w - - 1 51",
    "q5k1/5ppp/1r3bn1/1B6/P1N2P2/BQ2P1P1/5K1P/8 b - - 2 34",
    "r1b2k1r/5n2/p4q2/1ppn1Pp1/3pp1p1/NP2P3/P1PPBK2/1RQN2R1 w - - 0 22",
    "r1bqk2r/pppp1ppp/5n2/4b3/4P3/P1N5/1PP2PPP/R1BQKB1R w KQkq - 0 5",
    "r1bqr1k1/pp1p1ppp/2p5/8/3N1Q2/P2BB3/1PP2PPP/R3K2n b Q - 1 12",
    "r1bq2k1/p4r1p/1pp2pp1/3p4/1P1B3Q/P2B1N2/2P3PP/4R1K1 b - - 2 19",
    "r4qk1/6r1/1p4p1/2ppBbN1/1p5Q/P7/2P3PP/5RK1 w - - 2 25",
    "r7/6k1/1p6/2pp1p2/7Q/8/p1P2K1P/8 w - - 0 32",
    "r3k2r/ppp1pp1p/2nqb1pn/3p4/4P3/2PP4/PP1NBPPP/R2QK1NR w KQkq - 1 5",
    "3r1rk1/1pp1pn1p/p1n1q1p1/3p4/Q3P3/2P5/PP1NBPPP/4RRK1 w - - 0 12",
    "5rk1/1pp1pn1p/p3Brp1/8/1n6/5N2/PP3PPP/2R2RK1 w - - 2 20",
    "8/1p2pk1p/p1p1r1p1/3n4/8/5R2/PP3PPP/4R1K1 b - - 3 27",
    "8/4pk2/1p1r2p1/p1p4p/Pn5P/3R4/1P3PP1/4RK2 w - - 1 33",
    "8/5k2/1pnrp1p1/p1p4p/P6P/4R1PK/1P3P2/4R3 b - - 1 38",
    "8/8/1p1kp1p1/p1pr1n1p/P6P/1R4P1/1P3PK1/1R6 b - - 15 45",
    "8/8/1p1k2p1/p1prp2p/P2n3P/6P1/1P1R1PK1/4R3 b - - 5 49",
    "8/8/1p4p1/p1p2k1p/P2npP1P/4K1P1/1P6/3R4 w - - 6 54",
    "8/8/1p4p1/p1p2k1p/P2n1P1P/4K1P1/1P6/6R1 b - - 6 59",
    "8/5k2/1p4p1/p1pK3p/P2n1P1P/6P1/1P6/4R3 b - - 14 63",
    "8/1R6/1p1K1kp1/p6p/P1p2P1P/6P1/1Pn5/8 w - - 0 67",
    "1rb1rn1k/p3q1bp/2p3p1/2p1p3/2P1P2N/PP1RQNP1/1B3P2/4R1K1 b - - 4 23",
    "4rrk1/pp1n1pp1/q5p1/P1pP4/2n3P1/7P/1P3PB1/R1BQ1RK1 w - - 3 22",
    "r2qr1k1/pb1nbppp/1pn1p3/2ppP3/3P4/2PB1NN1/PP3PPP/R1BQR1K1 w - - 4 12",
    "2r2k2/8/4P1R1/1p6/8/P4K1N/7b/2B5 b - - 0 55",
    "6k1/5pp1/8/2bKP2P/2P5/p4PNb/B7/8 b - - 1 44",
    "2rqr1k1/1p3p1p/p2p2p1/P1nPb3/2B1P3/5P2/1PQ2NPP/R1R4K w - - 3 25",
    "r1b2rk1/p1q1ppbp/6p1/2Q5/8/4BP2/PPP3PP/2KR1B1R b - - 2 14",
    "6r1/5k2/p1b1r2p/1pB1p1p1/1Pp3PP/2P1R1K1/2P2P2/3R4 w - - 1 36",
    "rnbqkb1r/pppppppp/5n2/8/2PP4/8/PP2PPPP/RNBQKBNR b KQkq c3 0 2",
    "2rr2k1/1p4bp/p1q1p1p1/4Pp1n/2PB4/1PN3P1/P3Q2P/2RR2K1 w - f6 0 20",
    "3br1k1/p1pn3p/1p3n2/5pNq/2P1p3/1PN3PP/P2Q1PB1/4R1K1 w - - 0 23",
    "2r2b2/5p2/5k2/p1r1pP2/P2pB3/1P3P2/K1P3R1/7R w - - 23 93",
    "8/pp2nkR1/5n1p/3p4/5p2/P2BP3/1PPKN3/8 b - - 0 31",
    "3n4/2k3p1/p4r2/1pp4P/5PB1/P6P/1KP5/5R2 w - - 0 32",
    "4r1k1/5p1p/6pP/2b5/1p3R2/pP2BKP1/P4P2/8 b - - 0 38",
];

// Lookups from C++larity which got them from C#larity which got them from Homura
pub const KNIGHT_ATTACKS: [u64; 64] = [
    0x0000_0000_0002_0400,
    0x0000_0000_0005_0800,
    0x0000_0000_000A_1100,
    0x0000_0000_0014_2200,
    0x0000_0000_0028_4400,
    0x0000_0000_0050_8800,
    0x0000_0000_00A0_1000,
    0x0000_0000_0040_2000,
    0x0000_0000_0204_0004,
    0x0000_0000_0508_0008,
    0x0000_0000_0A11_0011,
    0x0000_0000_1422_0022,
    0x0000_0000_2844_0044,
    0x0000_0000_5088_0088,
    0x0000_0000_A010_0010,
    0x0000_0000_4020_0020,
    0x0000_0002_0400_0402,
    0x0000_0005_0800_0805,
    0x0000_000A_1100_110A,
    0x0000_0014_2200_2214,
    0x0000_0028_4400_4428,
    0x0000_0050_8800_8850,
    0x0000_00A0_1000_10A0,
    0x0000_0040_2000_2040,
    0x0000_0204_0004_0200,
    0x0000_0508_0008_0500,
    0x0000_0A11_0011_0A00,
    0x0000_1422_0022_1400,
    0x0000_2844_0044_2800,
    0x0000_5088_0088_5000,
    0x0000_A010_0010_A000,
    0x0000_4020_0020_4000,
    0x0002_0400_0402_0000,
    0x0005_0800_0805_0000,
    0x000A_1100_110A_0000,
    0x0014_2200_2214_0000,
    0x0028_4400_4428_0000,
    0x0050_8800_8850_0000,
    0x00A0_1000_10A0_0000,
    0x0040_2000_2040_0000,
    0x0204_0004_0200_0000,
    0x0508_0008_0500_0000,
    0x0A11_0011_0A00_0000,
    0x1422_0022_1400_0000,
    0x2844_0044_2800_0000,
    0x5088_0088_5000_0000,
    0xA010_0010_A000_0000,
    0x4020_0020_4000_0000,
    0x0400_0402_0000_0000,
    0x0800_0805_0000_0000,
    0x1100_110A_0000_0000,
    0x2200_2214_0000_0000,
    0x4400_4428_0000_0000,
    0x8800_8850_0000_0000,
    0x1000_10A0_0000_0000,
    0x2000_2040_0000_0000,
    0x0004_0200_0000_0000,
    0x0008_0500_0000_0000,
    0x0011_0A00_0000_0000,
    0x0022_1400_0000_0000,
    0x0044_2800_0000_0000,
    0x0088_5000_0000_0000,
    0x0010_A000_0000_0000,
    0x0020_4000_0000_0000,
];

pub const KING_ATTACKS: [u64; 64] = [
    0x0000_0000_0000_0302,
    0x0000_0000_0000_0705,
    0x0000_0000_0000_0E0A,
    0x0000_0000_0000_1C14,
    0x0000_0000_0000_3828,
    0x0000_0000_0000_7050,
    0x0000_0000_0000_E0A0,
    0x0000_0000_0000_C040,
    0x0000_0000_0003_0203,
    0x0000_0000_0007_0507,
    0x0000_0000_000E_0A0E,
    0x0000_0000_001C_141C,
    0x0000_0000_0038_2838,
    0x0000_0000_0070_5070,
    0x0000_0000_00E0_A0E0,
    0x0000_0000_00C0_40C0,
    0x0000_0000_0302_0300,
    0x0000_0000_0705_0700,
    0x0000_0000_0E0A_0E00,
    0x0000_0000_1C14_1C00,
    0x0000_0000_3828_3800,
    0x0000_0000_7050_7000,
    0x0000_0000_E0A0_E000,
    0x0000_0000_C040_C000,
    0x0000_0003_0203_0000,
    0x0000_0007_0507_0000,
    0x0000_000E_0A0E_0000,
    0x0000_001C_141C_0000,
    0x0000_0038_2838_0000,
    0x0000_0070_5070_0000,
    0x0000_00E0_A0E0_0000,
    0x0000_00C0_40C0_0000,
    0x0000_0302_0300_0000,
    0x0000_0705_0700_0000,
    0x0000_0E0A_0E00_0000,
    0x0000_1C14_1C00_0000,
    0x0000_3828_3800_0000,
    0x0000_7050_7000_0000,
    0x0000_E0A0_E000_0000,
    0x0000_C040_C000_0000,
    0x0003_0203_0000_0000,
    0x0007_0507_0000_0000,
    0x000E_0A0E_0000_0000,
    0x001C_141C_0000_0000,
    0x0038_2838_0000_0000,
    0x0070_5070_0000_0000,
    0x00E0_A0E0_0000_0000,
    0x00C0_40C0_0000_0000,
    0x0302_0300_0000_0000,
    0x0705_0700_0000_0000,
    0x0E0A_0E00_0000_0000,
    0x1C14_1C00_0000_0000,
    0x3828_3800_0000_0000,
    0x7050_7000_0000_0000,
    0xE0A0_E000_0000_0000,
    0xC040_C000_0000_0000,
    0x0203_0000_0000_0000,
    0x0507_0000_0000_0000,
    0x0A0E_0000_0000_0000,
    0x141C_0000_0000_0000,
    0x2838_0000_0000_0000,
    0x5070_0000_0000_0000,
    0xA0E0_0000_0000_0000,
    0x40C0_0000_0000_0000,
];
pub const PAWN_ATTACKS: [[u64; 64]; 2] = [
    [
        0x0000_0000_0000_0000,
        0x0000_0000_0000_0000,
        0x0000_0000_0000_0000,
        0x0000_0000_0000_0000,
        0x0000_0000_0000_0000,
        0x0000_0000_0000_0000,
        0x0000_0000_0000_0000,
        0x0000_0000_0000_0000,
        0x0000_0000_0000_0002,
        0x0000_0000_0000_0005,
        0x0000_0000_0000_000A,
        0x0000_0000_0000_0014,
        0x0000_0000_0000_0028,
        0x0000_0000_0000_0050,
        0x0000_0000_0000_00A0,
        0x0000_0000_0000_0040,
        0x0000_0000_0000_0200,
        0x0000_0000_0000_0500,
        0x0000_0000_0000_0A00,
        0x0000_0000_0000_1400,
        0x0000_0000_0000_2800,
        0x0000_0000_0000_5000,
        0x0000_0000_0000_A000,
        0x0000_0000_0000_4000,
        0x0000_0000_0002_0000,
        0x0000_0000_0005_0000,
        0x0000_0000_000A_0000,
        0x0000_0000_0014_0000,
        0x0000_0000_0028_0000,
        0x0000_0000_0050_0000,
        0x0000_0000_00A0_0000,
        0x0000_0000_0040_0000,
        0x0000_0000_0200_0000,
        0x0000_0000_0500_0000,
        0x0000_0000_0A00_0000,
        0x0000_0000_1400_0000,
        0x0000_0000_2800_0000,
        0x0000_0000_5000_0000,
        0x0000_0000_A000_0000,
        0x0000_0000_4000_0000,
        0x0000_0002_0000_0000,
        0x0000_0005_0000_0000,
        0x0000_000A_0000_0000,
        0x0000_0014_0000_0000,
        0x0000_0028_0000_0000,
        0x0000_0050_0000_0000,
        0x0000_00A0_0000_0000,
        0x0000_0040_0000_0000,
        0x0000_0200_0000_0000,
        0x0000_0500_0000_0000,
        0x0000_0A00_0000_0000,
        0x0000_1400_0000_0000,
        0x0000_2800_0000_0000,
        0x0000_5000_0000_0000,
        0x0000_A000_0000_0000,
        0x0000_4000_0000_0000,
        0x0002_0000_0000_0000,
        0x0005_0000_0000_0000,
        0x000A_0000_0000_0000,
        0x0014_0000_0000_0000,
        0x0028_0000_0000_0000,
        0x0050_0000_0000_0000,
        0x00A0_0000_0000_0000,
        0x0040_0000_0000_0000,
    ],
    [
        0x0000_0000_0000_0200,
        0x0000_0000_0000_0500,
        0x0000_0000_0000_0A00,
        0x0000_0000_0000_1400,
        0x0000_0000_0000_2800,
        0x0000_0000_0000_5000,
        0x0000_0000_0000_A000,
        0x0000_0000_0000_4000,
        0x0000_0000_0002_0000,
        0x0000_0000_0005_0000,
        0x0000_0000_000A_0000,
        0x0000_0000_0014_0000,
        0x0000_0000_0028_0000,
        0x0000_0000_0050_0000,
        0x0000_0000_00A0_0000,
        0x0000_0000_0040_0000,
        0x0000_0000_0200_0000,
        0x0000_0000_0500_0000,
        0x0000_0000_0A00_0000,
        0x0000_0000_1400_0000,
        0x0000_0000_2800_0000,
        0x0000_0000_5000_0000,
        0x0000_0000_A000_0000,
        0x0000_0000_4000_0000,
        0x0000_0002_0000_0000,
        0x0000_0005_0000_0000,
        0x0000_000A_0000_0000,
        0x0000_0014_0000_0000,
        0x0000_0028_0000_0000,
        0x0000_0050_0000_0000,
        0x0000_00A0_0000_0000,
        0x0000_0040_0000_0000,
        0x0000_0200_0000_0000,
        0x0000_0500_0000_0000,
        0x0000_0A00_0000_0000,
        0x0000_1400_0000_0000,
        0x0000_2800_0000_0000,
        0x0000_5000_0000_0000,
        0x0000_A000_0000_0000,
        0x0000_4000_0000_0000,
        0x0002_0000_0000_0000,
        0x0005_0000_0000_0000,
        0x000A_0000_0000_0000,
        0x0014_0000_0000_0000,
        0x0028_0000_0000_0000,
        0x0050_0000_0000_0000,
        0x00A0_0000_0000_0000,
        0x0040_0000_0000_0000,
        0x0200_0000_0000_0000,
        0x0500_0000_0000_0000,
        0x0A00_0000_0000_0000,
        0x1400_0000_0000_0000,
        0x2800_0000_0000_0000,
        0x5000_0000_0000_0000,
        0xA000_0000_0000_0000,
        0x4000_0000_0000_0000,
        0x0000_0000_0000_0000,
        0x0000_0000_0000_0000,
        0x0000_0000_0000_0000,
        0x0000_0000_0000_0000,
        0x0000_0000_0000_0000,
        0x0000_0000_0000_0000,
        0x0000_0000_0000_0000,
        0x0000_0000_0000_0000,
    ],
];

// Values here were generated from my c# engine
// I've double checked them manually, these all are correct
pub const DIRECTIONAL_OFFSETS: [i8; 8] = [8, -8, 1, -1, 7, -7, 9, -9];
pub const SLIDEY_PIECE_RAYS: [[u64; 64]; 8] = [
    [
        72_340_172_838_076_672,
        144_680_345_676_153_344,
        289_360_691_352_306_688,
        578_721_382_704_613_376,
        1_157_442_765_409_226_752,
        2_314_885_530_818_453_504,
        4_629_771_061_636_907_008,
        9_259_542_123_273_814_016,
        72_340_172_838_076_416,
        144_680_345_676_152_832,
        289_360_691_352_305_664,
        578_721_382_704_611_328,
        1_157_442_765_409_222_656,
        2_314_885_530_818_445_312,
        4_629_771_061_636_890_624,
        9_259_542_123_273_781_248,
        72_340_172_838_010_880,
        144_680_345_676_021_760,
        289_360_691_352_043_520,
        578_721_382_704_087_040,
        1_157_442_765_408_174_080,
        2_314_885_530_816_348_160,
        4_629_771_061_632_696_320,
        9_259_542_123_265_392_640,
        72_340_172_821_233_664,
        144_680_345_642_467_328,
        289_360_691_284_934_656,
        578_721_382_569_869_312,
        1_157_442_765_139_738_624,
        2_314_885_530_279_477_248,
        4_629_771_060_558_954_496,
        9_259_542_121_117_908_992,
        72_340_168_526_266_368,
        144_680_337_052_532_736,
        289_360_674_105_065_472,
        578_721_348_210_130_944,
        1_157_442_696_420_261_888,
        2_314_885_392_840_523_776,
        4_629_770_785_681_047_552,
        9_259_541_571_362_095_104,
        72_339_069_014_638_592,
        144_678_138_029_277_184,
        289_356_276_058_554_368,
        578_712_552_117_108_736,
        1_157_425_104_234_217_472,
        2_314_850_208_468_434_944,
        4_629_700_416_936_869_888,
        9_259_400_833_873_739_776,
        72_057_594_037_927_936,
        144_115_188_075_855_872,
        288_230_376_151_711_744,
        576_460_752_303_423_488,
        1_152_921_504_606_846_976,
        2_305_843_009_213_693_952,
        4_611_686_018_427_387_904,
        9_223_372_036_854_775_808,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
    ],
    [
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        2,
        4,
        8,
        16,
        32,
        64,
        128,
        257,
        514,
        1028,
        2056,
        4112,
        8224,
        16448,
        32896,
        65793,
        131_586,
        263_172,
        526_344,
        1_052_688,
        2_105_376,
        4_210_752,
        8_421_504,
        16_843_009,
        33_686_018,
        67_372_036,
        134_744_072,
        269_488_144,
        538_976_288,
        1_077_952_576,
        2_155_905_152,
        4_311_810_305,
        8_623_620_610,
        17_247_241_220,
        34_494_482_440,
        68_988_964_880,
        137_977_929_760,
        275_955_859_520,
        551_911_719_040,
        1_103_823_438_081,
        2_207_646_876_162,
        4_415_293_752_324,
        8_830_587_504_648,
        17_661_175_009_296,
        35_322_350_018_592,
        70_644_700_037_184,
        141_289_400_074_368,
        282_578_800_148_737,
        565_157_600_297_474,
        1_130_315_200_594_948,
        2_260_630_401_189_896,
        4_521_260_802_379_792,
        9_042_521_604_759_584,
        18_085_043_209_519_168,
        36_170_086_419_038_336,
    ],
    [
        254,
        252,
        248,
        240,
        224,
        192,
        128,
        0,
        65024,
        64512,
        63488,
        61440,
        57344,
        49152,
        32768,
        0,
        16_646_144,
        16_515_072,
        16_252_928,
        15_728_640,
        14_680_064,
        12_582_912,
        8_388_608,
        0,
        4_261_412_864,
        4_227_858_432,
        4_160_749_568,
        4_026_531_840,
        3_758_096_384,
        3_221_225_472,
        2_147_483_648,
        0,
        1_090_921_693_184,
        1_082_331_758_592,
        1_065_151_889_408,
        1_030_792_151_040,
        962_072_674_304,
        824_633_720_832,
        549_755_813_888,
        0,
        279_275_953_455_104,
        277_076_930_199_552,
        272_678_883_688_448,
        263_882_790_666_240,
        246_290_604_621_824,
        211_106_232_532_992,
        140_737_488_355_328,
        0,
        71_494_644_084_506_624,
        70_931_694_131_085_312,
        69_805_794_224_242_688,
        67_553_994_410_557_440,
        63_050_394_783_186_944,
        54_043_195_528_445_952,
        36_028_797_018_963_968,
        0,
        18_302_628_885_633_695_744,
        18_158_513_697_557_839_872,
        17_870_283_321_406_128_128,
        17_293_822_569_102_704_640,
        16_140_901_064_495_857_664,
        13_835_058_055_282_163_712,
        9_223_372_036_854_775_808,
        0,
    ],
    [
        0,
        1,
        3,
        7,
        15,
        31,
        63,
        127,
        0,
        256,
        768,
        1792,
        3840,
        7936,
        16128,
        32512,
        0,
        65536,
        196_608,
        458_752,
        983_040,
        2_031_616,
        4_128_768,
        8_323_072,
        0,
        16_777_216,
        50_331_648,
        117_440_512,
        251_658_240,
        520_093_696,
        1_056_964_608,
        2_130_706_432,
        0,
        4_294_967_296,
        12_884_901_888,
        30_064_771_072,
        64_424_509_440,
        133_143_986_176,
        270_582_939_648,
        545_460_846_592,
        0,
        1_099_511_627_776,
        3_298_534_883_328,
        7_696_581_394_432,
        16_492_674_416_640,
        34_084_860_461_056,
        69_269_232_549_888,
        139_637_976_727_552,
        0,
        281_474_976_710_656,
        844_424_930_131_968,
        1_970_324_836_974_592,
        4_222_124_650_659_840,
        8_725_724_278_030_336,
        17_732_923_532_771_328,
        35_747_322_042_253_312,
        0,
        72_057_594_037_927_936,
        216_172_782_113_783_808,
        504_403_158_265_495_552,
        1_080_863_910_568_919_040,
        2_233_785_415_175_766_016,
        4_539_628_424_389_459_968,
        9_151_314_442_816_847_872,
    ],
    [
        0,
        256,
        66048,
        16_909_312,
        4_328_785_920,
        1_108_169_199_616,
        283_691_315_109_888,
        72_624_976_668_147_712,
        0,
        65536,
        16_908_288,
        4_328_783_872,
        1_108_169_195_520,
        283_691_315_101_696,
        72_624_976_668_131_328,
        145_249_953_336_262_656,
        0,
        16_777_216,
        4_328_521_728,
        1_108_168_671_232,
        283_691_314_053_120,
        72_624_976_666_034_176,
        145_249_953_332_068_352,
        290_499_906_664_136_704,
        0,
        4_294_967_296,
        1_108_101_562_368,
        283_691_179_835_392,
        72_624_976_397_598_720,
        145_249_952_795_197_440,
        290_499_905_590_394_880,
        580_999_811_180_789_760,
        0,
        1_099_511_627_776,
        283_673_999_966_208,
        72_624_942_037_860_352,
        145_249_884_075_720_704,
        290_499_768_151_441_408,
        580_999_536_302_882_816,
        1_161_999_072_605_765_632,
        0,
        281_474_976_710_656,
        72_620_543_991_349_248,
        145_241_087_982_698_496,
        290_482_175_965_396_992,
        580_964_351_930_793_984,
        1_161_928_703_861_587_968,
        2_323_857_407_723_175_936,
        0,
        72_057_594_037_927_936,
        144_115_188_075_855_872,
        288_230_376_151_711_744,
        576_460_752_303_423_488,
        1_152_921_504_606_846_976,
        2_305_843_009_213_693_952,
        4_611_686_018_427_387_904,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
    ],
    [
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        4,
        8,
        16,
        32,
        64,
        128,
        0,
        516,
        1032,
        2064,
        4128,
        8256,
        16512,
        32768,
        0,
        132_104,
        264_208,
        528_416,
        1_056_832,
        2_113_664,
        4_227_072,
        8_388_608,
        0,
        33_818_640,
        67_637_280,
        135_274_560,
        270_549_120,
        541_097_984,
        1_082_130_432,
        2_147_483_648,
        0,
        8_657_571_872,
        17_315_143_744,
        34_630_287_488,
        69_260_574_720,
        138_521_083_904,
        277_025_390_592,
        549_755_813_888,
        0,
        2_216_338_399_296,
        4_432_676_798_592,
        8_865_353_596_928,
        17_730_707_128_320,
        35_461_397_479_424,
        70_918_499_991_552,
        140_737_488_355_328,
        0,
        567_382_630_219_904,
        1_134_765_260_439_552,
        2_269_530_520_813_568,
        4_539_061_024_849_920,
        9_078_117_754_732_544,
        18_155_135_997_837_312,
        36_028_797_018_963_968,
        0,
    ],
    [
        9_241_421_688_590_303_744,
        36_099_303_471_055_872,
        141_012_904_183_808,
        550_831_656_960,
        2_151_686_144,
        8_404_992,
        32768,
        0,
        4_620_710_844_295_151_616,
        9_241_421_688_590_303_232,
        36_099_303_471_054_848,
        141_012_904_181_760,
        550_831_652_864,
        2_151_677_952,
        8_388_608,
        0,
        2_310_355_422_147_510_272,
        4_620_710_844_295_020_544,
        9_241_421_688_590_041_088,
        36_099_303_470_530_560,
        141_012_903_133_184,
        550_829_555_712,
        2_147_483_648,
        0,
        1_155_177_711_056_977_920,
        2_310_355_422_113_955_840,
        4_620_710_844_227_911_680,
        9_241_421_688_455_823_360,
        36_099_303_202_095_104,
        141_012_366_262_272,
        549_755_813_888,
        0,
        577_588_851_233_521_664,
        1_155_177_702_467_043_328,
        2_310_355_404_934_086_656,
        4_620_710_809_868_173_312,
        9_241_421_619_736_346_624,
        36_099_165_763_141_632,
        140_737_488_355_328,
        0,
        288_793_326_105_133_056,
        577_586_652_210_266_112,
        1_155_173_304_420_532_224,
        2_310_346_608_841_064_448,
        4_620_693_217_682_128_896,
        9_241_386_435_364_257_792,
        36_028_797_018_963_968,
        0,
        144_115_188_075_855_872,
        288_230_376_151_711_744,
        576_460_752_303_423_488,
        1_152_921_504_606_846_976,
        2_305_843_009_213_693_952,
        4_611_686_018_427_387_904,
        9_223_372_036_854_775_808,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
    ],
    [
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        2,
        4,
        8,
        16,
        32,
        64,
        0,
        256,
        513,
        1026,
        2052,
        4104,
        8208,
        16416,
        0,
        65536,
        131_328,
        262_657,
        525_314,
        1_050_628,
        2_101_256,
        4_202_512,
        0,
        16_777_216,
        33_619_968,
        67_240_192,
        134_480_385,
        268_960_770,
        537_921_540,
        1_075_843_080,
        0,
        4_294_967_296,
        8_606_711_808,
        17_213_489_152,
        34_426_978_560,
        68_853_957_121,
        137_707_914_242,
        275_415_828_484,
        0,
        1_099_511_627_776,
        2_203_318_222_848,
        4_406_653_222_912,
        8_813_306_511_360,
        17_626_613_022_976,
        35_253_226_045_953,
        70_506_452_091_906,
        0,
        281_474_976_710_656,
        564_049_465_049_088,
        1_128_103_225_065_472,
        2_256_206_466_908_160,
        4_512_412_933_881_856,
        9_024_825_867_763_968,
        18_049_651_735_527_937,
    ],
];

pub const BISHOP_MASKS: [u64; 64] = [
    18_049_651_735_527_936,
    70_506_452_091_904,
    275_415_828_992,
    1_075_975_168,
    38_021_120,
    8_657_588_224,
    2_216_338_399_232,
    567_382_630_219_776,
    9_024_825_867_763_712,
    18_049_651_735_527_424,
    70_506_452_221_952,
    275_449_643_008,
    9_733_406_720,
    2_216_342_585_344,
    567_382_630_203_392,
    1_134_765_260_406_784,
    4_512_412_933_816_832,
    9_024_825_867_633_664,
    18_049_651_768_822_272,
    70_515_108_615_168,
    2_491_752_130_560,
    567_383_701_868_544,
    1_134_765_256_220_672,
    2_269_530_512_441_344,
    2_256_206_450_263_040,
    4_512_412_900_526_080,
    9_024_834_391_117_824,
    18_051_867_805_491_712,
    637_888_545_440_768,
    1_135_039_602_493_440,
    2_269_529_440_784_384,
    4_539_058_881_568_768,
    1_128_098_963_916_800,
    2_256_197_927_833_600,
    4_514_594_912_477_184,
    9_592_139_778_506_752,
    19_184_279_556_981_248,
    2_339_762_086_609_920,
    4_538_784_537_380_864,
    9_077_569_074_761_728,
    562_958_610_993_152,
    1_125_917_221_986_304,
    2_814_792_987_328_512,
    5_629_586_008_178_688,
    11_259_172_008_099_840,
    22_518_341_868_716_544,
    9_007_336_962_655_232,
    18_014_673_925_310_464,
    2_216_338_399_232,
    4_432_676_798_464,
    11_064_376_819_712,
    22_137_335_185_408,
    44_272_556_441_600,
    87_995_357_200_384,
    35_253_226_045_952,
    70_506_452_091_904,
    567_382_630_219_776,
    1_134_765_260_406_784,
    2_832_480_465_846_272,
    5_667_157_807_464_448,
    11_333_774_449_049_600,
    22_526_811_443_298_304,
    9_024_825_867_763_712,
    18_049_651_735_527_936,
];

pub const ROOK_MASKS: [u64; 64] = [
    282_578_800_148_862,
    565_157_600_297_596,
    1_130_315_200_595_066,
    2_260_630_401_190_006,
    4_521_260_802_379_886,
    9_042_521_604_759_646,
    18_085_043_209_519_166,
    36_170_086_419_038_334,
    282_578_800_180_736,
    565_157_600_328_704,
    1_130_315_200_625_152,
    2_260_630_401_218_048,
    4_521_260_802_403_840,
    9_042_521_604_775_424,
    18_085_043_209_518_592,
    36_170_086_419_037_696,
    282_578_808_340_736,
    565_157_608_292_864,
    1_130_315_208_328_192,
    2_260_630_408_398_848,
    4_521_260_808_540_160,
    9_042_521_608_822_784,
    18_085_043_209_388_032,
    36_170_086_418_907_136,
    282_580_897_300_736,
    565_159_647_117_824,
    1_130_317_180_306_432,
    2_260_632_246_683_648,
    4_521_262_379_438_080,
    9_042_522_644_946_944,
    18_085_043_175_964_672,
    36_170_086_385_483_776,
    283_115_671_060_736,
    565_681_586_307_584,
    1_130_822_006_735_872,
    2_261_102_847_592_448,
    4_521_664_529_305_600,
    9_042_787_892_731_904,
    18_085_034_619_584_512,
    36_170_077_829_103_616,
    420_017_753_620_736,
    699_298_018_886_144,
    1_260_057_572_672_512,
    2_381_576_680_245_248,
    4_624_614_895_390_720,
    9_110_691_325_681_664,
    18_082_844_186_263_552,
    36_167_887_395_782_656,
    35_466_950_888_980_736,
    34_905_104_758_997_504,
    34_344_362_452_452_352,
    33_222_877_839_362_048,
    30_979_908_613_181_440,
    26_493_970_160_820_224,
    17_522_093_256_097_792,
    35_607_136_465_616_896,
    9_079_539_427_579_068_672,
    8_935_706_818_303_361_536,
    8_792_156_787_827_803_136,
    8_505_056_726_876_686_336,
    7_930_856_604_974_452_736,
    6_782_456_361_169_985_536,
    4_485_655_873_561_051_136,
    9_115_426_935_197_958_144,
];

pub const DIAGONALS: [u64; 15] = [
    0x0100_0000_0000_0000,
    0x0201_0000_0000_0000,
    0x0402_0100_0000_0000,
    0x0804_0201_0000_0000,
    0x1008_0402_0100_0000,
    0x2010_0804_0201_0000,
    0x4020_1008_0402_0100,
    0x8040_2010_0804_0201,
    0x0080_4020_1008_0402,
    0x0000_8040_2010_0804,
    0x0000_0080_4020_1008,
    0x0000_0000_8040_2010,
    0x0000_0000_0080_4020,
    0x0000_0000_0000_8040,
    0x0000_0000_0000_0080,
];

pub const A_FILE: u64 = 0x0101_0101_0101_0101;
pub const H_FILE: u64 = A_FILE << 7;
